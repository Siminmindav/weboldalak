<!-- echo.html -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Visszhang</title>
</head>
<body>
  <h1>Hello, World!</h1>
  <span>oldal mélysége:</span>
  <span id="melyseg">0</span>
  <br>
  <button onclick="dzs()">plusz oldal az oldalban</button>
  <div id="frame-container"></div>

  <script>
    function dzs(){
      max += 1;
      upt();
    }
  function upt(){
    if (depth < max) {
      const nextDepth = depth + 1;
      const iframe = document.createElement("iframe");
      iframe.src = `https://siminmindav.github.io/weboldalak/a/026.html?depth=${nextDepth}`;
      iframe.width = "100%";
      iframe.height = "400px";
      document.getElementById("frame-container").appendChild(iframe);
    }
  }
    // Get current depth from URL (e.g., ?depth=1)
    const params = new URLSearchParams(window.location.search);
    let depth = parseInt(params.get("depth")) || 0;
    let max= parseInt(params.get("depth")) || 0;
    document.getElementById("melyseg").innerHTML = depth;
    // Limit recursion depth
    upt();
    
  </script>
</body>
</html>
